// слайдер на главной
const materialSlider = new Swiper(".material__slider", {
  loop: true,
  speed: 800,
  navigation: {
    nextEl: ".material__btn-next",
    prevEl: ".material__btn-prev",
    clickable: true,
  },
  pagination: {
        el: ".material__count",
        type: "fraction",
  },
  effect: "fade",
  fadeEffect: {
    crossFade: true,
  },
});
//----- END

// мобильное меню
// подменю
const menuBtn = document.querySelector('.menu__btn');
const subMenu = document.querySelector('.menu__sub');
const header = document.querySelector('.header');

  menuBtn.addEventListener('click', (e) => {
    let currentBtn = e.currentTarget;
    let drop = currentBtn.closest('.menu__item').querySelector('.menu__sub');
    drop.classList.toggle("_active");
    header.classList.toggle('header--active');
    currentBtn.classList.toggle('menu__btn--active');
  });
// закрытие при клике вне меню
document.addEventListener('click', (e) => {
  if (window.innerWidth > 769) {
    if(!e.target.closest('.menu__list')){
        subMenu.classList.remove('_active');
          menuBtn.classList.remove('menu__btn--active');
          header.classList.remove('header--active');
        }
      }
});

// меню бургер
const iconMenu = document.querySelector(".menu__icon");
const menuBody = document.querySelector(".menu__body");
const menuLink = document.querySelectorAll(".menu__item");
if (iconMenu) {
  iconMenu.addEventListener("click", () => {
    document.body.classList.toggle("_lock");
    iconMenu.classList.toggle("_active");
    subMenu.classList.toggle("_active");
    menuBody.classList.toggle("_active");
  });
}
// закрытие при клике
menuLink.forEach((item) => {
  item.addEventListener("click", () => {
    document.body.classList.remove("_lock");
    iconMenu.classList.remove("_active");
    menuBody.classList.remove("_active");
  });
});

// слайдер на главной
let numberSlider = 2;
let spaceSlider = 200;

if (window.innerWidth < 992) {
    spaceSlider = 100;
  } if (window.innerWidth < 769) {
    numberSlider = 1;
    spaceSlider = 0;
  }

const newsSlider = new Swiper(".news__slider", {
  loop: true,
  speed: 800,
  navigation: {
    nextEl: ".news__btn-next",
    prevEl: ".news__btn-prev",
    clickable: true,
  },
  pagination: {
        el: ".news__count",
        type: "fraction",
  },
  slidesPerView: numberSlider,
  spaceBetween: spaceSlider,
});
//----- END

// проверка формы поиска
const form = document.querySelector('.header__search');
const input = document.querySelector('.header__search-input');
form.addEventListener('submit', function(evt) {
  evt.preventDefault();
  if(!input.value) {
    return;
  }
  this.submit();
});

// ширина скроллбара
const getScrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
let scrollBarVar = getComputedStyle(document.documentElement).getPropertyValue('--widthscrollbar');
document.documentElement.style.setProperty('--widthscrollbar', getScrollbarWidth + 'px');

//# sourceMappingURL=main.min.js.map
